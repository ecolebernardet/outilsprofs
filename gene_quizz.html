<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>G√©n√©rateur de Quizz - OutilsProfs</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap');
        
        :root {
            --bg-page: #121212; --card-bg: #1e1e1e; --text-main: #ffffff;
            --column-border: rgba(255, 255, 255, 0.1); --input-bg: #2a2a2a;
            --shadow-custom: 0 10px 25px -5px rgba(0, 0, 0, 0.4);
        }

        body.light-mode {
            --bg-page: #eeeeee; --card-bg: #ffffff; --text-main: #111827;
            --column-border: rgba(0, 0, 0, 0.1); --input-bg: #f3f4f6;
            --shadow-custom: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }

        body { font-family: 'Inter', sans-serif; background-color: var(--bg-page); color: var(--text-main); margin: 0; padding: 0; transition: background 0.3s ease; }
        
        header { 
            background: var(--card-bg); border-bottom: 1px solid var(--column-border);
            position: sticky; top: 0; z-index: 100; display: flex; align-items: center;
            justify-content: space-between; padding: calc(env(safe-area-inset-top) + 10px) 15px 10px 15px; 
            width: 100%; margin-bottom: 12px;
        }

        .ui-btn-round { width: 38px; height: 38px; display: flex; align-items: center; justify-content: center; border-radius: 50%; flex-shrink: 0; transition: all 0.2s ease; cursor: pointer; border: none; }
        header h1 { font-size: 1.125rem; font-weight: 900; text-transform: uppercase; text-align: center; flex-grow: 1; }

        .main-wrapper { width: 100%; max-width: 500px; margin: 0 auto; padding: 10px 15px 40px; transition: all 0.3s ease; }
        .light-card { background: var(--card-bg); border-radius: 1.5rem; padding: 20px; border: 1px solid var(--column-border); box-shadow: var(--shadow-custom); margin-bottom: 20px; }
        
        .input-field { background: var(--input-bg); border: 1px solid var(--column-border);
            border-radius: 0.75rem; padding: 10px; font-size: 0.85rem; font-weight: 700;
            width: 100%; color: var(--text-main); outline: none; }
        
        .btn-add { width: 100%; padding: 14px; border-radius: 50px; font-weight: 900; font-size: 12px;
            text-transform: uppercase; border: none; cursor: pointer; transition: transform 0.1s; }
        .btn-add:active { transform: scale(0.95); }

        .btn-game-action { height: 40px; border-radius: 9999px; font-size: 10px; font-weight: 900; color: white;
            transition: all 0.2s ease; text-transform: uppercase; padding: 0 10px; display: flex; align-items: center; justify-content: center; gap: 4px; }

        .q-card { background: var(--card-bg); border-radius: 0.75rem; padding: 12px;
            border: 1px solid var(--column-border); display: flex; flex-direction: column; gap: 8px; min-height: 60px;}
            
        .res-text { color: #10b981; font-weight: 800; font-size: 0.9rem; border-top: 1px dashed var(--column-border); padding-top: 8px; }

        /* Force la disparition r√©elle des √©l√©ments */
        .hidden { display: none !important; }

        #game-zone .grid-cols-2 {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            padding-bottom: 20px;
        }

        .modal-overlay { display: none; position: fixed; inset: 0; z-index: 1000;
            background: rgba(0,0,0,0.8); backdrop-filter: blur(5px); align-items: center; justify-content: center; padding: 20px; }
        .modal-content { background: var(--card-bg); width: 100%; max-width: 400px;
            border-radius: 1.5rem; border: 1px solid var(--column-border); padding: 25px; position: relative; }

        @media (max-width: 767px) {
            #game-zone .grid-cols-2 {
                grid-template-columns: repeat(2, 1fr) !important;
                display: grid !important;
            }
            
            .btn-game-action {
                height: 48px; 
                font-size: 11px;
            }

            .main-wrapper {
                padding-bottom: 120px !important; 
            }
            
            #game-zone {
                padding-bottom: 40px;
            }
        }
    </style>
</head>
<body>

<script>
    if (localStorage.getItem('theme_mode') === 'light') document.body.classList.add('light-mode');
</script>

<header>
    <a href="index.html" id="btn-retour-header" class="ui-btn-round active:scale-90">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M15 19l-7-7 7-7" />
        </svg>
    </a>
    <h1>G√©n√©rateur de Quizz</h1>
    <button id="btn-aide" onclick="ouvrirAide()" class="ui-btn-round active:scale-90 text-lg">üí°</button>
</header>

<div class="main-wrapper">
    <div id="container-retour-liste" class="mb-4">
        <a href="generateurs.html" id="btn-retour-liste" class="inline-flex items-center gap-2 px-4 py-2 rounded-full text-[10px] font-black uppercase transition-transform active:scale-95 shadow-sm">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M15 19l-7-7 7-7" />
            </svg>
            Retour aux g√©n√©rateurs
        </a>
    </div>

    <div id="setup-zone" class="light-card space-y-4">
        <div class="space-y-4">
            <div>
                <label class="block text-[9px] font-black uppercase opacity-50 mb-2 tracking-widest">Titre du Quizz</label>
                <input type="text" id="quiz-title" class="input-field mb-2" placeholder="Ex: Histoire - Les Rois de France">

                <label class="block text-[9px] font-black uppercase opacity-50 mb-2 tracking-widest">Questions / R√©ponses</label>
                <textarea id="quiz-data" class="input-field h-48 text-left font-normal" placeholder="Question 1 ; R√©ponse 1&#10;Question 2 ; R√©ponse 2"></textarea>
                
                <div class="flex flex-row items-center justify-between gap-2 mt-4">
                    <div class="flex gap-2">
                        <button onclick="addExample()" class="px-2 py-1.5 rounded-lg border border-cyan-500/30 text-[8px] font-bold uppercase text-cyan-500 hover:bg-cyan-500/10 transition-colors">Exemple</button>
                        <button onclick="clearAll()" class="px-2 py-1.5 rounded-lg border border-red-500/30 text-[8px] font-bold uppercase text-red-500 hover:bg-red-500/10 transition-colors">Vider</button>
                    </div>
    
                    <label id="label-import" class="cursor-pointer px-4 py-2 rounded-full bg-emerald-500 text-white text-[9px] font-black uppercase flex items-center gap-2 shadow-md active:scale-95 transition-transform whitespace-nowrap">
                        üì• Importer .txt
                        <input type="file" id="import-txt" class="hidden" accept=".txt" onchange="importFromTXT(this)">
                    </label>
                </div>
            </div>
        </div>

        <div class="space-y-4">
            <div class="flex items-end gap-3">
                <div class="pb-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-[var(--accent-color)] opacity-80" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                </div>
                <div class="grid grid-cols-2 gap-3 flex-grow">
                    <div>
                        <label class="block text-[8px] font-black uppercase opacity-50 mb-1 tracking-widest text-center">Minutes</label>
                        <input type="number" id="timer-min" value="0" min="0" class="input-field text-center">
                    </div>
                    <div>
                        <label class="block text-[8px] font-black uppercase opacity-50 mb-1 tracking-widest text-center">Secondes</label>
                        <input type="number" id="timer-sec" value="30" min="0" max="59" class="input-field text-center">
                    </div>
                </div>
            </div>

            <div>
                <label class="block text-[9px] font-black uppercase opacity-50 mb-1 tracking-widest text-center">Sonnerie de fin</label>
                <div class="flex gap-2">
                    <select id="sound-select" class="input-field text-center">
                        <option value="zen">üîî Zen Bowl (Gong)</option>
                        <option value="none">üîá Muet</option>
                    </select>
                    <button id="btn-test-son" onclick="playDing()" class="ui-btn-round active:scale-90" title="Tester le son">üîä</button>
                </div>
            </div>
            
            <label class="flex items-center gap-3 cursor-pointer p-2 bg-white/5 rounded-xl border border-white/5">
                <input type="checkbox" id="shuffle-order" class="w-4 h-4 accent-cyan-500" checked>
                <span class="text-[10px] font-black uppercase">M√©langer les questions</span>
            </label>
        </div>

        <button id="mainAddBtn" onclick="generateQuiz()" class="btn-add">Lancer le Quizz</button>
    </div>

    <div id="game-zone" class="hidden space-y-6 px-4 md:px-0">
        <div id="timer-display" class="text-center p-3 rounded-xl bg-amber-500/10 border border-amber-500/20">
            <span class="text-[10px] font-black uppercase opacity-50 tracking-widest">Temps restant</span>
            <div id="seconds-left" class="text-2xl font-black text-amber-500">0:00</div>
        </div>
        
        <div id="questions-grid" class="grid grid-cols-1 gap-3"></div>
        
        <div class="grid grid-cols-2 md:grid-cols-5 gap-3 pt-4">
            <button onclick="retourReglages()" class="btn-game-action bg-gray-500">‚¨ÖÔ∏è retour</button>
            <button onclick="generateQuiz()" class="btn-game-action bg-amber-500">üîÑ rejouer</button>
            <button id="validate-btn" onclick="showCorrection()" class="btn-game-action bg-green-500">üëÅÔ∏è correction</button>
            <button onclick="exportToPDF()" class="btn-game-action bg-blue-500">üìÑ PDF</button>
            <button onclick="exportToTXT()" class="btn-game-action bg-zinc-600">üìù TXT</button>
        </div>
    </div>
</div>

<div id="modal-aide" class="modal-overlay" onclick="fermerModal('modal-aide')">
    <div class="modal-content" onclick="event.stopPropagation()">
        <h2 id="titre-aide" class="text-lg font-black uppercase mb-4">üí° Aide Quizz</h2>
        <div class="text-[11px] leading-relaxed space-y-4">
            <p>1. <b>Saisie :</b> Saisissez un titre puis une question par ligne au format <br><code class="bg-black/20 p-1 rounded">Question ; R√©ponse</code></p>
            <p>2. <b>Import :</b> Vous pouvez importer un fichier texte (.txt) d√©j√† pr√©par√©.</p>
            <p>3. <b>Chrono :</b> Param√©trez le temps. Si vous r√©glez √† 0:00, le temps est illimit√©.</p>
            <p>4. <b>Export :</b> G√©n√©rez une fiche PDF ou un fichier TXT nomm√© selon votre titre et la date.</p>
        </div>
        <button onclick="fermerModal('modal-aide')" id="btn-fermer-aide" class="mt-6 w-full py-3 rounded-xl text-[10px] font-black uppercase tracking-widest">J'ai compris</button>
    </div>
</div>

<div id="modal-erreur" class="modal-overlay" onclick="fermerModal('modal-erreur')">
    <div class="modal-content" onclick="event.stopPropagation()">
        <div class="text-center">
            <div class="text-4xl mb-4">‚ö†Ô∏è</div>
            <h2 id="titre-erreur" class="text-lg font-black uppercase mb-2">Saisie vide</h2>
            <p class="text-[11px] opacity-80 leading-relaxed mb-6">
                Veuillez saisir au moins une question au format : <br>
                <span class="font-bold italic">Question ; R√©ponse</span>
            </p>
            <button id="btn-fermer-erreur" onclick="fermerModal('modal-erreur')" class="w-full py-3 rounded-xl text-[10px] font-black uppercase tracking-widest text-white">D'accord</button>
        </div>
    </div>
</div>

<div id="modal-fin" class="modal-overlay">
    <div class="modal-content text-center">
        <div class="text-6xl mb-4">üîî</div>
        <h2 id="titre-fin" class="text-2xl font-black uppercase mb-2">Temps √©coul√© !</h2>
        <button id="btn-fermer-fin" onclick="fermerModalFin()" class="btn-game-action bg-green-500 w-full h-12 text-sm">Voir les r√©sultats</button>
    </div>
</div>

<div id="modal-effacer" class="modal-overlay" onclick="fermerModal('modal-effacer')">
    <div class="modal-content text-center" onclick="event.stopPropagation()">
        <div class="text-4xl mb-4">üóëÔ∏è</div>
        <h2 id="titre-effacer" class="text-lg font-black uppercase mb-2">Tout effacer ?</h2>
        <p class="text-[11px] opacity-80 leading-relaxed mb-6">Cette action supprimera le titre et toutes les questions.</p>
        <div class="flex gap-3">
            <button onclick="fermerModal('modal-effacer')" class="flex-1 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest bg-gray-500 text-white">Annuler</button>
            <button onclick="confirmerEffacement()" id="btn-confirmer-effacer" class="flex-1 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest text-white">Effacer</button>
        </div>
    </div>
</div>

<script>
    const mapCouleurs = { 'red': '#ef4444', 'orange': '#f97316', 'amber': '#f59e0b', 'yellow': '#eab308', 'lime': '#84cc16', 'green': '#22c55e', 'emerald': '#10b981', 'teal': '#14b8a6', 'cyan': '#06b6d4', 'sky': '#0ea5e9', 'blue': '#3b82f6', 'indigo': '#6366f1', 'violet': '#8b5cf6', 'purple': '#a855f7', 'fuchsia': '#d946ef', 'pink': '#ec4899', 'rose': '#f43f5e', 'gray': '#6b7280' };
    let currentQuestions = [];
    let countdown;

    function appliquerTheme() {
        const themePrefs = JSON.parse(localStorage.getItem('theme_tuiles')) || {};
        const colPref = themePrefs.gen || 'cyan'; 
        const hexa = mapCouleurs[colPref];
        const contrast = ['yellow', 'lime', 'amber', 'cyan'].includes(colPref) ? '#000' : '#fff';
        
        document.documentElement.style.setProperty('--accent-color', hexa);
        
        const ids = ['btn-retour-header', 'btn-retour-liste', 'btn-aide', 'mainAddBtn', 'btn-fermer-aide', 'btn-fermer-fin', 'btn-test-son', 'btn-fermer-erreur', 'btn-confirmer-effacer', 'label-import'];
        ids.forEach(id => {
            const b = document.getElementById(id);
            if(b) { b.style.backgroundColor = hexa; b.style.color = contrast; }
        });
        
        ['titre-aide', 'titre-erreur', 'titre-effacer'].forEach(id => {
            const el = document.getElementById(id);
            if(el) el.style.color = hexa;
        });
    }

    function addExample() {
        document.getElementById('quiz-title').value = "Culture G√©n√©rale";
        document.getElementById('quiz-data').value = "Capitale du Japon ? ; Tokyo\nQuel est le plus grand oc√©an ? ; Pacifique\nCombien font 9 x 8 ? ; 72\nQui a peint la Joconde ? ; L√©onard de Vinci";
    }

    function clearAll() { document.getElementById('modal-effacer').style.display = 'flex'; }
    
    function confirmerEffacement() {
        document.getElementById('quiz-title').value = "";
        document.getElementById('quiz-data').value = "";
        fermerModal('modal-effacer');
    }

    function cleanStringForFilename(str) {
        return str.normalize("NFD").replace(/[\u0300-\u036f]/g, "").toLowerCase().replace(/\s+/g, '_').replace(/[^a-z0-9_]/gi, '');
    }

    function exportToTXT() {
        const titleInput = document.getElementById('quiz-title').value || "quizz";
        const textData = document.getElementById('quiz-data').value.trim();
        
        if (!textData) {
            document.getElementById('modal-erreur').style.display = 'flex';
            return;
        }

        const maintenant = new Date();
        const dateStr = maintenant.getFullYear() + "-" + String(maintenant.getMonth() + 1).padStart(2, '0') + "-" + String(maintenant.getDate()).padStart(2, '0');
        const nomFichier = `outilsprofs_quizz_${cleanStringForFilename(titleInput)}_${dateStr}.txt`;
        
        const content = "TITRE : " + titleInput + "\nDATE : " + dateStr + "\n\n" + textData;

        if (window.Android && window.Android.savePdfFromBase64) {
            const base64String = btoa(unescape(encodeURIComponent(content)));
            window.Android.savePdfFromBase64(base64String, nomFichier);
        } else {
            const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.style.display = 'none';
            a.href = url;
            a.download = nomFichier;
            document.body.appendChild(a);
            a.click();
            setTimeout(() => {
                document.body.removeChild(a);
                window.URL.revokeObjectURL(url);
            }, 300);
        }
    }

    function exportToPDF() {
        const textData = document.getElementById('quiz-data').value.trim();
        if (!textData) {
            document.getElementById('modal-erreur').style.display = 'flex';
            return;
        }

        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();
        
        const titleInput = document.getElementById('quiz-title').value || "quizz";
        const maintenant = new Date();
        const dateStr = maintenant.getFullYear() + "-" + String(maintenant.getMonth() + 1).padStart(2, '0') + "-" + String(maintenant.getDate()).padStart(2, '0');
        const nomFichier = `outilsprofs_quizz${cleanStringForFilename(titleInput)}_${dateStr}_.pdf`;

        const lines = textData.split('\n');
        const questionsToPrint = lines.map(line => {
            const parts = line.split(';');
            return { q: parts[0] ? parts[0].trim() : "", r: parts[1] ? parts[1].trim() : "" };
        }).filter(item => item.q);

        const draw = (subTitle, showRes) => {
            doc.setFont("helvetica", "bold"); doc.setFontSize(18);
            doc.text(titleInput + " - " + subTitle, 105, 20, {align:'center'});
            doc.setFontSize(10); let y = 40;
            questionsToPrint.forEach((item, i) => {
                if (y > 270) { doc.addPage(); y = 20; }
                doc.setFont("helvetica", "bold"); doc.text((i+1) + ". " + item.q, 20, y); y += 7;
                if(showRes) {
                    doc.setFont("helvetica", "italic"); doc.setTextColor(16, 185, 129);
                    doc.text(item.r, 25, y); doc.setTextColor(0,0,0); y += 10;
                } else {
                    doc.text("________________________________________________", 25, y); y += 12;
                }
            });
        };

        draw("Fiche Eleve", false); 
        doc.addPage(); 
        draw("Corrig√©", true);

        if (window.Android && window.Android.savePdfFromBase64) {
            const pdfBase64 = doc.output('datauristring').split(',')[1];
            window.Android.savePdfFromBase64(pdfBase64, nomFichier);
        } else {
            doc.save(nomFichier);
        }
    }

    function importFromTXT(input) {
        const file = input.files[0];
        if (!file) return;
        const reader = new FileReader();
        reader.onload = function(e) {
            const lines = e.target.result.split('\n');
            const titleLine = lines.find(l => l.toUpperCase().startsWith('TITRE :'));
            if (titleLine) document.getElementById('quiz-title').value = titleLine.split(':')[1].trim();
            const data = lines.filter(l => l.includes(';'));
            if (data.length > 0) document.getElementById('quiz-data').value = data.map(l => l.trim()).join('\n');
        };
        reader.readAsText(file);
        input.value = '';
    }

    function playDing() {
        const soundType = document.getElementById('sound-select').value;
        if (soundType === 'none') return;
        const context = new (window.AudioContext || window.webkitAudioContext)();
        const now = context.currentTime;
        const osc = context.createOscillator();
        const gain = context.createGain();
        osc.type = 'sine'; osc.frequency.setValueAtTime(880, now);
        gain.gain.setValueAtTime(0.4, now); gain.gain.exponentialRampToValueAtTime(0.001, now + 2.5);
        osc.connect(gain); gain.connect(context.destination);
        osc.start(); osc.stop(now + 2.5);
    }

    function generateQuiz() {
        const text = document.getElementById('quiz-data').value.trim();
        if (!text || !text.includes(';')) { document.getElementById('modal-erreur').style.display = 'flex'; return; }
        document.getElementById('setup-zone').classList.add('hidden');
        document.getElementById('container-retour-liste').classList.add('hidden');
        document.getElementById('mainAddBtn').classList.add('hidden');
        const lines = text.split('\n');
        currentQuestions = lines.map(line => {
            const parts = line.split(';');
            return { q: parts[0] ? parts[0].trim() : "", r: parts[1] ? parts[1].trim() : "???" };
        }).filter(item => item.q);
        if (document.getElementById('shuffle-order').checked) currentQuestions.sort(() => Math.random() - 0.5);
        document.getElementById('game-zone').classList.remove('hidden');
        window.scrollTo(0, 0);
        startTimer();
        renderQuestions();
    }

    function startTimer() {
        clearInterval(countdown);
        const mins = parseInt(document.getElementById('timer-min').value) || 0;
        const secs = parseInt(document.getElementById('timer-sec').value) || 0;
        let timeLeft = (mins * 60) + secs;
        const display = document.getElementById('timer-display');
        const textEl = document.getElementById('seconds-left');
        if (timeLeft <= 0) { display.classList.add('hidden'); return; }
        display.classList.remove('hidden');
        const updateDisplay = () => {
            let m = Math.floor(timeLeft / 60); let s = timeLeft % 60;
            textEl.innerText = m + ":" + (s < 10 ? '0' : '') + s;
            if (timeLeft <= 0) { clearInterval(countdown); playDing(); document.getElementById('modal-fin').style.display = 'flex'; }
            timeLeft--;
        };
        updateDisplay(); countdown = setInterval(updateDisplay, 1000);
    }

    function renderQuestions() {
        const grid = document.getElementById('questions-grid');
        const title = document.getElementById('quiz-title').value.trim();
        grid.innerHTML = '';
        if (title) {
            grid.innerHTML = '<div class="col-span-full mb-4 text-center"><h2 class="text-xl font-black uppercase tracking-tight text-[var(--accent-color)]">' + title + '</h2><div class="h-1 w-20 bg-[var(--accent-color)] mx-auto mt-2 rounded-full opacity-50"></div></div>';
        }
        currentQuestions.forEach((item, i) => {
            grid.innerHTML += '<div class="q-card"><div class="flex items-start gap-2"><span class="opacity-30 text-[10px] font-black mt-1">' + (i+1) + '.</span><span class="text-sm font-bold leading-tight">' + item.q + '</span></div><div class="res-text hidden">' + item.r + '</div></div>';
        });
        const btn = document.getElementById('validate-btn');
        btn.innerText = "üëÅÔ∏è correction"; btn.classList.replace('bg-red-500', 'bg-green-500');
    }

    function showCorrection() {
        const res = document.querySelectorAll('.res-text');
        const btn = document.getElementById('validate-btn');
        if (res.length === 0) return;
        const isHidden = res[0].classList.contains('hidden');
        res.forEach(el => isHidden ? el.classList.remove('hidden') : el.classList.add('hidden'));
        if (isHidden) { clearInterval(countdown); btn.innerText = "üôà masquer"; btn.classList.replace('bg-green-500', 'bg-red-500'); }
        else { btn.innerText = "üëÅÔ∏è correction"; btn.classList.replace('bg-red-500', 'bg-green-500'); }
    }

    function retourReglages() { 
        clearInterval(countdown); 
        document.getElementById('setup-zone').classList.remove('hidden');
        document.getElementById('container-retour-liste').classList.remove('hidden');
        document.getElementById('mainAddBtn').classList.remove('hidden');
        document.getElementById('game-zone').classList.add('hidden'); 
    }
    
    function ouvrirAide() { document.getElementById('modal-aide').style.display = 'flex'; }
    function fermerModal(id) { document.getElementById(id).style.display = 'none'; }
    function fermerModalFin() { document.getElementById('modal-fin').style.display = 'none'; showCorrection(); }

    window.onload = appliquerTheme;
</script>

</body>
</html>