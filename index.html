<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>OutilsProfs</title>
    
    <!-- Favic√¥ne -->
    <!-- Favic√¥ne -->
		<link rel="icon" type="image/png" sizes="32x32" href="https://ecolebernardet.github.io/outilsprofs/outilsprofs_icone.png">
		<link rel="apple-touch-icon" href="https://ecolebernardet.github.io/outilsprofs/outilsprofs_icone.png">
		<meta name="theme-color" content="#3b82f6">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@600;800&display=swap');
        
        :root {
            --bg-body: #121212;
            --card-bg: #1e1e1e;
            --text-main: #ffffff;
            --text-muted: #a1a1aa;
            --border-color: rgba(255, 255, 255, 0.08);
            --shadow-color: rgba(0, 0, 0, 0.4);
        }

        body.light-mode {
            --bg-body: #eeeeee;
            --card-bg: #ffffff;
            --text-main: #111827;
            --text-muted: #71717a;
            --border-color: rgba(0, 0, 0, 0.3);
            --shadow-color: rgba(0, 0, 0, 0.20);
        }

        body { 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            background-color: var(--bg-body); 
            color: var(--text-main);
            transition: background-color 0.3s ease, color 0.3s ease;
            padding: calc(env(safe-area-inset-top) + 15px) 15px 20px;
        }

        * {
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
        }

        .menu-card { 
            position: relative;
            background: var(--card-bg);
            border-radius: 1.25rem;
            border-bottom: 0px solid var(--border-color);
            box-shadow: 0px 15px 10px -5px var(--shadow-color);
            transition: transform 0.2s ease;
        }
        
        .menu-card:active { 
            transform: scale(0.96); 
        }

        .icon-box {
            width: 45px;
            height: 45px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(128, 128, 128, 0.1);
            margin-bottom: 5px;
            font-size: 30px;
            border: 1px solid var(--border-color);
        }

        .tile-subtitle {
            color: var(--text-muted);
            margin-top: 7px;
			margin-bottom: 7px;
            text-align: center;
            line-height: 1.1;
        }

        .drag-handle {
            position: absolute;
            top: 10px;
            right: 10px;
            display: grid;
            grid-template-columns: repeat(3, 2px);
            gap: 2px;
            cursor: grab;
            opacity: 0.2;
        }

        .drag-handle span {
            width: 2px;
            height: 2px;
            background-color: var(--text-muted);
            border-radius: 50%;
        }

        .ui-btn {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            background: var(--card-bg);
            border: 1px solid var(--border-color);
        }

        .header-avatar {
            width: 38px;
            height: 38px;
            border-radius: 10px;
            border: 2px solid var(--card-bg);
        }

        /* Responsive design pour PC */
        @media (min-width: 768px) {
            .icon-box {
                width: 64px;
                height: 64px;
                font-size: 32px;
                border-radius: 16px;
                margin-bottom: 12px;
            }
        }
		
		/* Styles de la modale */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(4px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
        }

        .modal-content {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 1.5rem;
            width: 100%;
            max-width: 400px;
            position: relative;
            animation: modalAppear 0.3s ease-out;
        }

        @keyframes modalAppear {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        #avatar-propos {
            width: 80px;
            height: 80px;
            border-radius: 20px;
            margin-bottom: 15px;
            border: 3px solid var(--bg-body);
        }

        .url-copy-box {
			display: flex;
			flex-direction: column;
			align-items: center; 
			gap: 12px;
			background: var(--bg-body);
			padding: 12px;
			border-radius: 12px;
			border: 1px solid var(--border-color);
			margin-top: 10px;
			width: 100%;
		}

		.url-copy-box code {
			font-size: 12px;
			text-align: center;
			white-space: normal;
			word-break: normal;
			color: var(--text-muted);
			line-height: 1.4;
			width: 100%;
		}

		.copy-btn {
			width: 100%;
			max-width: 140px;
			background: #3b82f6;
			color: white;
			padding: 8px 12px;
			border-radius: 8px;
			font-size: 10px;
			font-weight: bold;
			transition: all 0.2s ease;
		}

		.url-copy-box code:hover {
			color: var(--text-main);
			background: rgba(59, 130, 246, 0.1);
			cursor: pointer;
		}
		
    </style>
</head>
<body class="flex flex-col items-center">
    <!-- Chargement du th√®me avant le rendu -->
    <script>
        if (localStorage.getItem('theme_mode') === 'light') {
            document.body.classList.add('light-mode');
        }
    </script>

    <div class="w-full max-w-[360px] md:max-w-6xl md:px-6">
        <!-- En-t√™te -->
        <header class="flex justify-between items-center mb-6 px-1">
            <button onclick="goToSettings()" class="ui-btn active:scale-90" aria-label="Menu param√®tres">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
            </button>
            <h1 class="text-[13px] md:text-[18px] font-black tracking-[0.4em] uppercase opacity-90">Outils Profs</h1>
            <img src="outilsprofs_icone.png" alt="Avatar" class="header-avatar cursor-pointer active:scale-90 transition-transform" onclick="toggleModal(true)">
        </header>

        <!-- Grille de navigation -->
        <nav id="grid-menu" class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-5 md:gap-8">
            <!-- Ma classe -->
            <div data-id="inscr" class="menu-card p-3 md:p-6">
                <div class="drag-handle">
                    <span></span><span></span><span></span>
                    <span></span><span></span><span></span>
                    <span></span><span></span><span></span>
                </div>
                <a href="maclasse.html" class="flex flex-col items-center text-center">
                    <div class="icon-box">üìù</div>
                    <h2 class="font-bold text-[13px] md:text-[16px] uppercase tracking-wider">Ma classe</h2>
                    <span class="tile-subtitle text-[10px] md:text-[12px] font-semibold">enregistrement des √©l√®ves</span>
                </a>
            </div>

            <!-- Liens -->
            <div data-id="liens" class="menu-card p-3 md:p-6">
                <div class="drag-handle">
                    <span></span><span></span><span></span>
                    <span></span><span></span><span></span>
                    <span></span><span></span><span></span>
                </div>
                <a href="liens.html" class="flex flex-col items-center text-center">
                    <div class="icon-box">üîó</div>
                    <h2 class="font-bold text-[13px] md:text-[16px] uppercase tracking-wider">Liens</h2>
                    <span class="tile-subtitle text-[10px] md:text-[12px] font-semibold">r√©pertoire web</span>
                </a>
            </div>

            <!-- 108 heures -->
            <div data-id="h108" class="menu-card p-3 md:p-6">
                <div class="drag-handle">
                    <span></span><span></span><span></span>
                    <span></span><span></span><span></span>
                    <span></span><span></span><span></span>
                </div>
                <a href="108heures.html" class="flex flex-col items-center text-center">
                    <div class="icon-box">‚è±Ô∏è</div>
                    <h2 class="font-bold text-[13px] md:text-[16px] uppercase tracking-wider">108 heures</h2>
                    <span class="tile-subtitle text-[10px] md:text-[12px] font-semibold">suivi des r√©unions</span>
                </a>
            </div>

            <!-- M√©mos -->
            <div data-id="memos" class="menu-card p-3 md:p-6">
                <div class="drag-handle">
                    <span></span><span></span><span></span>
                    <span></span><span></span><span></span>
                    <span></span><span></span><span></span>
                </div>
                <a href="memos.html" class="flex flex-col items-center text-center">
                    <div class="icon-box">üìí</div>
                    <h2 class="font-bold text-[13px] md:text-[16px] uppercase tracking-wider">M√©mos</h2>
                    <span class="tile-subtitle text-[10px] md:text-[12px] font-semibold">pense-b√™tes</span>
                </a>
            </div>

            
            <!-- Observations -->
            <div data-id="obs" class="menu-card p-3 md:p-6">
                <div class="drag-handle">
                    <span></span><span></span><span></span>
                    <span></span><span></span><span></span>
                    <span></span><span></span><span></span>
                </div>
                <a href="observations.html" class="flex flex-col items-center text-center">
                    <div class="icon-box">‚úèÔ∏è</div>
                    <h2 class="font-bold text-[13px] md:text-[16px] uppercase tracking-wider">Observations</h2>
                    <span class="tile-subtitle text-[10px] md:text-[12px] font-semibold">profil des √©l√®ves</span>
                </a>
            </div>

            <!-- Compteur -->
            <div data-id="compt" class="menu-card p-3 md:p-6">
                <div class="drag-handle">
                    <span></span><span></span><span></span>
                    <span></span><span></span><span></span>
                    <span></span><span></span><span></span>
                </div>
                <a href="compteur.html" class="flex flex-col items-center text-center">
                    <div class="icon-box">üö•</div>
                    <h2 class="font-bold text-[13px] md:text-[16px] uppercase tracking-wider">Compteur</h2>
                    <span class="tile-subtitle text-[10px] md:text-[12px] font-semibold">suivi du comportement</span>
                </a>
            </div>

            <!-- G√©n√©rateurs -->
            <div data-id="gen" class="menu-card p-3 md:p-6">
                <div class="drag-handle">
                    <span></span><span></span><span></span>
                    <span></span><span></span><span></span>
                    <span></span><span></span><span></span>
                </div>
                <a href="generateurs.html" class="flex flex-col items-center text-center">
                    <div class="icon-box">üõ†Ô∏è</div>
                    <h2 class="font-bold text-[13px] md:text-[16px] uppercase tracking-wider">G√©n√©rateurs</h2>
                    <span class="tile-subtitle text-[10px] md:text-[12px] font-semibold">cr√©ation de supports</span>
                </a>
            </div>

            <!-- Outils -->
            <div data-id="outils" class="menu-card p-3 md:p-6">
                <div class="drag-handle">
                    <span></span><span></span><span></span>
                    <span></span><span></span><span></span>
                    <span></span><span></span><span></span>
                </div>
                <a href="outils.html" class="flex flex-col items-center text-center">
                    <div class="icon-box">üß∞</div>
                    <h2 class="font-bold text-[13px] md:text-[16px] uppercase tracking-wider">Outils</h2>
                    <span class="tile-subtitle text-[10px] md:text-[12px] font-semibold">gestion de la classe</span>
                </a>
            </div>
			
		<div id="modalAbout" class="modal-overlay" onclick="toggleModal(false)">
			<div class="modal-content p-6" onclick="event.stopPropagation()">
				<button onclick="toggleModal(false)" class="absolute top-4 right-4 text-gray-500">
					<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
					</svg>
				</button>
            
				<div id="propos" class="text-center">
					<div class="flex flex-col items-center">
						<img src="outilsprofs_icone.png" id="avatar-propos" alt="Avatar">
						<p class="text-xs font-bold">Application con√ßue par Nicolas BERNARDET<br>avec la grande aide de l'IA<br>pour la programmation.</p>
						<div class="h-[1px] bg-gray-500/20 w-full my-6"></div>
						<p class="text-[12px] font-black text-gray-500 mb-6">OutilsProfs version 7.0</p>
					</div>

					<div class="text-left bg-black/5 dark:bg-white/5 p-4 rounded-xl border border-blue-500/20">
						<div class="flex items-center gap-2 mb-3">
							<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 21h6l-.75-4M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
							</svg>
							<h3 class="font-black text-xs uppercase">Usage sur PC et VPI</h3>
						</div>
						<p class="text-xs leading-relaxed mb-3">
							OutilsProfs est parfaitement adapt√© pour une utilisation sur <strong>ordinateur</strong> ou une projection sur <strong>VPI/TBI</strong> en classe.
						</p>
						<div class="url-copy-box">
							<code id="app-url-propos" class="font-bold">
								https://ecolebernardet.github.io/<wbr>outilsprofs/
							</code>
							<button onclick="copyUrl(this)" class="copy-btn active:scale-95">
								Copier l'URL
							</button>
						</div>
					</div>
				</div>
			</div>
        </nav>
    </div>

    <script>
        // Navigation vers param√®tres
        function goToSettings() {
            window.location.href = 'parametres.html';
        }

        // Palette de couleurs
        const colorMap = {
            'red': '#ef4444',
            'orange': '#f97316',
            'amber': '#f59e0b',
            'yellow': '#eab308',
            'lime': '#84cc16',
            'green': '#22c55e',
            'emerald': '#10b981',
            'teal': '#14b8a6',
            'cyan': '#06b6d4',
            'sky': '#0ea5e9',
            'blue': '#3b82f6',
            'indigo': '#6366f1',
            'violet': '#8b5cf6',
            'purple': '#a855f7',
            'fuchsia': '#d946ef',
            'pink': '#ec4899',
            'rose': '#f43f5e'
        };

        // Couleurs par d√©faut des tuiles
        const defaultColors = {
            inscr: 'lime',
            h108: 'orange',
            liens: 'indigo',
            tirage: 'yellow',
            equipes: 'rose',
            memos: 'purple',
            obs: 'green',
            compt: 'sky',
            gen: 'cyan',
            outils: 'blue'
        };

        // Application des couleurs personnalis√©es
        function applyColors() {
            const isLight = document.body.classList.contains('light-mode');
            const prefs = JSON.parse(localStorage.getItem('theme_tuiles')) || defaultColors;

            document.querySelectorAll('.menu-card').forEach(el => {
                const id = el.getAttribute('data-id');
                const colorName = prefs[id] || 'blue';
                const hexColor = colorMap[colorName];
                const iconBox = el.querySelector('.icon-box');
                const title = el.querySelector('h2');

                if (iconBox) {
                    iconBox.style.backgroundColor = `${hexColor}15`;
                    iconBox.style.color = hexColor;
                    iconBox.style.borderColor = `${hexColor}30`;
                    iconBox.style.boxShadow = !isLight ? `0 0 12px ${hexColor}20` : 'none';
                }
                if (title) {
                    title.style.color = hexColor;
                }
            });
        }

        // Restauration de l'ordre des tuiles
        function restoreTileOrder() {
            const gridMenu = document.getElementById('grid-menu');
            const savedOrder = JSON.parse(localStorage.getItem('menu_order'));
            
            if (savedOrder) {
                savedOrder.forEach(id => {
                    const tile = document.querySelector(`[data-id="${id}"]`);
                    if (tile) {
                        gridMenu.appendChild(tile);
                    }
                });
            }
        }

        // Initialisation du drag & drop
        function initializeSortable() {
            const gridMenu = document.getElementById('grid-menu');
            
            new Sortable(gridMenu, {
                handle: '.drag-handle',
                animation: 200,
                ghostClass: 'opacity-0',
                onEnd: function() {
                    const order = Array.from(gridMenu.children).map(child => child.getAttribute('data-id'));
                    localStorage.setItem('menu_order', JSON.stringify(order));
                }
            });
        }

		function toggleModal(show) {
            const modal = document.getElementById('modalAbout');
            modal.style.display = show ? 'flex' : 'none';
        }

        function copyUrl(btn) {
            const url = document.getElementById('app-url-propos').innerText;
            navigator.clipboard.writeText(url).then(() => {
                const originalText = btn.innerText;
                btn.innerText = 'Copi√©';
                btn.style.background = '#22c55e';
                setTimeout(() => {
                    btn.innerText = originalText;
                    btn.style.background = '#3b82f6';
                }, 2000);
            });
        }
		
		
        // Initialisation au chargement de la page
        document.addEventListener('DOMContentLoaded', function() {
            applyColors();
            restoreTileOrder();
            initializeSortable();
        });

        // Application imm√©diate pour √©viter le flash
        applyColors();
        restoreTileOrder();
        initializeSortable();
    </script>
</body>
</html>